cmake_minimum_version(VERSION 2.8)
project(cmake_test)

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11 -Wall")
set(SRC_EXE main.cpp)
set(SRC_LIB file.cpp)

add_library(main STATIC ${SRC_LIB})
add_executable(main ${SRC_EXE})

target_link_libraries(main main)